# L29 从生磁盘到文件
第三层抽象：如何从文件得到盘块号
### 映射
- 文件以字符流表示，要建立字符流和盘块集合的映射关系
- 对性质不同的文件可以选择不同的映射方式
##### 连续结构
- 文件在物理存储上连续
- 使用FCB结构记录映射：文件名 -> 起始块, 块数
- 块内地址在映射后保持不变
- 适合读写，但大小有上限，不适合动态增长

##### 链式结构
- 磁盘上的链表
- FCB记录链表头
- 适合动态增长，不适合读写，可靠性差

##### 索引结构
- 有一块专门作为索引，记录了文件每一部分所在块的位置
- FCB直接建立文件与索引块的映射
- 操作系统中最常见，实际上是多级索引
  - 大文件多级拆小
  - 小文件级少，高效访问